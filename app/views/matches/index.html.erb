<h1>Listing matches</h1>

<table>
  <tr>
    <th>Season</th>
    <th>Week</th>
    <th>Home Team</th>
    <th>Away Team</th>
    <th></th>
    <th></th>
    <th></th>
  </tr>

<% @matches.each do |match| %>
  <tr>
    <td><%= match.season_id %></td>
    <td><%= match.week_id %></td>
    <td>
      <% if match.winner == match.home_team %>
        <span class="winner"><%= match.home_team.name %></span>
      <% else %>
        <%= match.home_team.name %>
      <% end %>
    </td>
        <td>
      <% if match.winner == match.away_team %>
        <span class="winner"><%= match.away_team.name %></span>
      <% else %>
        <%= match.away_team.name %>
      <% end %>
    </td>
    <td><%= link_to 'Show', season_week_match_path(current_season, current_week, match) %></td>
    <td><%= link_to 'Edit', edit_season_week_match_path(current_season, current_week, match) %></td>
    <td><%= link_to 'Destroy', season_week_match_path(current_season, current_week, match), method: :delete, data: { confirm: 'Are you sure?' } %></td>
  </tr>
<% end %>
</table>

<br />

<%= link_to 'New Match', new_season_week_match_path(current_season, current_week) %>
